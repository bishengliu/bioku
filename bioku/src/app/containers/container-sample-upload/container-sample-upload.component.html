<div class="ui grid row">
  <div class="eight wide column"></div>
  <div class="eight wide column">
    <app-container-box-navbar></app-container-box-navbar>
  </div>
</div>
<div class="ui grid row small_padding">
  <div class="ten wide column">
    <h3 class="ui violet left aligned header">{{appName}} UPLOADER</h3>
  </div>
  <div class="six wide column"> 
    <div class="two ui buttons float-right">
        <button class="ui black button" (click)="chooseUploadMode(2)"><i class="icon options"></i> ADVANCED MODE</button>
        <a class="ui button" [routerLink]="['/containers', id]"><i class="icon caret left"></i>CANCEL</a>
    </div>
  </div>
</div>

<div class="ui segment small_padding"  
*ngIf="!load_failed && !loading && allowUpload && simple_or_advanced_mode === 0">
  <div class="ui two column stackable grid">
    <div class="column">
        <div class="ui message">
            <div class="ui teal header">PLEASE READ THIS FOLLOWING BEFORE PROCEED:</div>
            <div class="content">
                <p>
                  <i class="icon caret right"></i>
                  Please upload only the 
                  <span><em>MS excel file ('.xlsx')</em></span>, 
                  containing a <em>single datasheet</em> of the <em>same type/content</em>.
                </p>
                <p>
                  <i class="icon caret right"></i>
                  It is highly recommended that all the boxes are labeled following the pattern of '
                  <span><em>TOWER-SHELF-BOX</em></span>', 
                  for example '1<sup>(tower)</sup>-1<sup>(shelf)</sup>-1<sup>(box)</sup><span>'</span>;
                </p>
                <p>
                  <i class="icon caret right"></i>
                  It is highly recommended that the all the box layouts are <em>9 rows x 9 columns</em>;
                </p>
                <p>
                  <i class="icon caret right"></i>
                  It is highly recommended that all the samples are labeled following the pattern of '<span><em>ROW-COLUMN</em></span>', for example 'A1';
                </p>
                <p>
                  <i class="icon caret right"></i>
                  It is highly recommended that all the dates are stored as 'YYYY-MM-DD', for example '2017-12-25';
                </p>
                <p>
                  <i class="icon caret right"></i>
                  If your boxes or samples are not saved as we recommended in the excel file, please format them before uploading;
                  you can also use the <span class="ui black label">ADVANCED MODE</span> above;
                </p>
            </div>
        </div>
    </div>
    <div class="column">
        <div class="ui message">
            <div class="header">HOW DOES THE {{appName}} UPLOADER WORK?</div>
            <div class="content">
              <p>
                <i class="icon caret right"></i>
                The {{appName}} uploader needs to know where to put the boxes 
                (from <em>box labels</em>) and where to put the samples
                (from <em>sample labels</em>) in a box 
                (from <em>box dimension/layout</em>) in a container.</p>
              <p>
                <i class="icon caret right"></i>
                In the first place, the {{appName}} uploader needs to understand the boxes and the samples; 
                the {{appName}} uploader uses the pattern of "TOWER-SHELF-BOX" to locate a box in a container, where a "TOWER" may conatin several
                "SHELVES" (similar to drawers) and each "SHELF" may contain several "BOXES";
              </p>
              <p>
                <i class="icon caret right"></i>
                The next step is to specify the cloumn headers in the excel file, so that the {{appName}} uploader understands other details of a sample,
                which depend on the tyep/content specified;
              </p>
              <p>
                <i class="icon caret right"></i>
                The {{appName}} uploader allows you to specify various date formats; You will be asked to provide the date
                format, if necessary;</p>
              <p>
                <i class="icon caret right"></i>
                The {{appName}} uploader has many build-in validators; please always read carefuly the validation reports;</p>
              <p>
                <i class="icon caret right"></i>
                The {{appName}} uploader will NOT override any box or sample already in your container; If the uploader detects the existence
                of a box or sample in place, it will IGNORE SILENTLY the current sample in your excel file and move to the next sample;
                therefore, you might end up uploading less samples and it is always good to check carefully what have been actually upladed;
              </p>
              <!-- <p>
                <i class="icon caret right"></i>
                Though it is impossible to consider all the possible conventions of labeling the boxes or samples, 
                the {{appName}} uploader offers many options in the "ADVANCED MODE".
              </p> -->
          </div>
        </div>
    </div>
  </div>
</div>
<button class="ui fluid blue small bottom attached button small_padding" 
*ngIf="!load_failed && !loading && allowUpload && simple_or_advanced_mode === 0"
(click)="chooseUploadMode(1)">
  <i class="icon wizard"></i> 
  EXPRESS MODE 
</button>

<div class="ui grid row small_padding" 
*ngIf="!load_failed && !loading && allowUpload">
    <app-container-sample-upload-helper
    [uploadMode]="simple_or_advanced_mode"
    class="sixteen wide column" 
    *ngIf="allowUpload && simple_or_advanced_mode !== 0">
  </app-container-sample-upload-helper>
</div>

<!--loading info-->
<div *ngIf="loading" class="ui loading segment center aligned">
  <br/><br/><br/><br/>
  <p class="brown-text">loading current container ... </p>
</div>

<!--failed  -->
<div *ngIf="!loading && load_failed" class="ui tertiary segment center aligned">
  <br/><br/><br/>
  <p><i class="ui massive warning sign icon brown"></i></p>
  <h3 class="ui brown header">Something went wrong, fail to load current container from the server!</h3>
  <br/><br/><br/>
</div>

<div *ngIf="!allowUpload && !loading && !load_failed" class="ui tertiary segment center aligned">
  <br/><br/><br/>
  <p><i class="ui massive warning sign icon brown"></i></p>
  <h3 class="ui brown header">You are not allowed to upload samples to the current container any more!</h3>
  <br/><br/><br/>
</div>