<div class="ui segment" *ngIf="samples!= null && samples.length > 0">
    <table class="ui small unstackable padded teal table">
        <thead>
            <tr>
                <th class="">Name</th>
                <th class="">Code</th>
                <th class="">Position</th>
                <th class="">Quantity</th>
                <th class="">Date</th>
                <th class="">TakeOut</th>
                <th class="">Attachment</th>
                <th class="">Researcher</th>
                <th class="">Reference</th>
                <th class="">Comments</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let sample of samples" class="clickable" (click)="toggleSelection(sample.pk)" [ngClass]="{'table-td-selected': selectedSamples.indexOf(sample.pk) !==- 1, 'table-td-no-sample': !sample.occupied }">
                <td class="collapsing">
                    <div>
                        <span [style.color]="sample.color">{{ (sample.name != null && sample.name.length>15)? (sample.name | slice:0:15)+'..':(sample.name) }}</span>
                        <sup *ngIf="sample.tag" class="ui mini blue circular label">{{sample.tag != null && sample.tag.length >= 5 ? (sample.tag | slice:0:5) : sample.tag}}</sup>
                        <span class="ui mini label">{{ sample.type | slice:0:2 }}</span>
                    </div>
                </td>
                <td class="collapsing">{{sample.registration_code}}</td>
                <td class="collapsing">
                    <span>{{sample.position}}</span>
                    <sup *ngIf="sample.label">{{sample.label}}</sup>
                </td>
                <td class="collapsing">
                    <span *ngIf="sample.type ==='CELL'">{{sample.amount}}</span>
                    <span *ngIf="sample.type ==='VIRUS'">{{sample.titration_titer? sample.titration_titer:''}}{{sample.titration_unit? sample.titration_unit:''}}</span>
                    <span *ngIf="sample.type !=='CELL' && sample.type !=='VIRUS'">{{sample.quantity? sample.quantity:'' }}{{ sample.quantity_unit ? sample.quantity_unit:''}}</span>
                </td>
                <td class="collapsing">{{sample.freezing_date | date: 'yyyy-MM-dd'}}</td>
                <td class="collapsing">{{sample.date_out| date: 'yyyy-MM-dd'}}</td>
                <td class="collapsing">
                    <div *ngIf="sample.attachments != null && sample.attachments.length > 0">
                        <p class="nopadding no_margin" *ngFor="let attachment of sample.attachments">
                            <a target="_blank" href="{{appUrl + attachment.attachment}}">{{attachment.label != null ? attachment.label : null}}</a>
                        </p>
                    </div>
                </td>
                <td class="collapsing">
                    <div *ngIf="sample.researchers != null && sample.researchers.length > 0">
                        <span class="nopadding no_margin" *ngFor="let researcher of sample.researchers">
                    {{researcher.first_name != null ? (researcher.first_name.toUpperCase() | slice:0:1) : ''}}{{researcher.last_name != null ? (researcher.last_name.toUpperCase() + ' ' | slice:0:1): ' '}}
                  </span>
                    </div>
                </td>
                <td class="collapsing">{{sample.reference_code}}</td>
                <td class="collapsing">
                    {{ (sample.description != null && sample.description.length>100)? (sample.description | slice:0:100)+'..':(sample.description)
                    }}
                </td>
            </tr>
        </tbody>
    </table>
</div>