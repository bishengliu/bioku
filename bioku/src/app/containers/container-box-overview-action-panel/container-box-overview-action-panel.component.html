<div class="ui stacked raised segments">
  <div class="ui grid inverted segment no_margin nopadding">
      <div class="no_margin nopadding fourteen wide column white-text clickable" (click)="togglePanelContent()">
        <span class="brown-text">{{selectedBoxes.length}}</span> 
        <span *ngIf="selectedBoxes.length==1">box</span>
        <span *ngIf="selectedBoxes.length > 1">boxes</span>
        selected
      </div>
      <div class="no_margin nopadding two wide column">
        <a *ngIf="show_panel_content" class="clickable ui right floated" (click)="hidePanelContent()"><i class="icon chevron circle down white-text"></i></a>
        <a *ngIf="!show_panel_content" class="clickable ui right floated" (click)="showPanelContent()"><i class="icon chevron circle up white-text"></i></a>
      </div>
  </div>
  <div *ngIf="show_panel_content">
    <div class="ui segment" *ngIf="action_panel_msg">
      <!--msg-->
      <div class="ui icon brown message" >
        <i class="warning sign icon brown"></i>
        <div class="content">
          <p class="">{{action_panel_msg}}</p>
        </div>
      </div>
      <!--msg-->
    </div>
    <div class="ui segment" *ngIf="selectedOccupiedSlots.length > 0">
      <div class="" *ngIf="selectedOccupiedSlots.length == 1 && selected_single_occupied_box != null && lastSelectedOccupiedBox != null">
        <!--show the box layout-->
        <div class="ui link card">
          <app-container-box-cardview 
          [box]="selected_single_occupied_box" 
          class="ui black raised card"
          (click)="displaySelectedBox(selected_single_occupied_box)">
          </app-container-box-cardview>
        </div>
        <br />
      </div>
      <!--more occuped-->
      <div *ngIf="selectedOccupiedSlots.length > 0"> 
        <div class="ui large labels" *ngIf="selectedOccupiedSlots.length > 1">
          <div class="ui large teal label" *ngFor="let occupied of selectedOccupiedSlots">
            <span>{{ occupied.full_position }}</span>
          </div>
        </div>
        <div class="two ui mini buttons">
          <button class="ui violet button" *ngIf="selectedOccupiedSlots.length == 2" (click)="switchBox()"><i class="icon refresh"></i>SWITCH</button>
          <button class="ui red button" (click)="moveBox()"><i class="icon move"></i>MOVE</button>
        </div>
      </div>
    </div>
    <div class="ui segment" *ngIf="selectedEmptySlots.length > 0">
      <div class="ui large labels">
        <div class="ui large label" *ngFor="let empty of selectedEmptySlots">
          <span>{{ empty.full_position }}</span>
        </div>
      </div>
      <div>
        <button class="ui fluid mini black button" (click)="addBox()"><i class="icon plus"></i>BOXES</button>
      </div>
    </div>
  </div>
</div>